(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{135:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAEhQAABIUBEapzDgAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAl8SURBVHic7Z1/zBxFGcc/7yElgAWqFIMVqkXtmBYoRRRaYErskNYQgYoh2ERL/REUE7CxQTAa0RpJNUoVUxXRahqsFJu+QtMfA4EBxdAfxkqlE0OlQEsL2Ja+lba+0Z5/zN3Lvffeve/t3e7O3u58ksv73t7uzHP3fPeZ2dnZeXrK5TKB4lLybUDAL0EABScIoOAEARScIICCEwRQcIIACk4QQMEJAig4QQAF5y0+K7dKngaMA95ZeR0D+oCDlb8vC232+rOwc6ySY3Df7TRgTOVvCXgZ2AXsFtoc8mVfTxr3AqySo4ArgKuBybzp8BNbOPw1YGvltQlYJ7Q5mJCpHWGVPAlQwEXA+ZXXWS0c2gfsxgliG9AL/FFo87+ETB0gMQFUzu6P4pw+GxgdU9H9wKPAKqBXaPNaTOW2hVXyFOAq4OPALOCkmIreBzwMrAY2CG0Ox1TuIGIXgFVSAnfgzvjjYy18KP3AcuD7QpvtCdc1CKvke4AFwHzic3ozjgDrgUVCmy1xFhybAKySk4C7cGdD2pRxZ8t3hDZPJ1mRVXIKcDvujD8uyboaUAZWAHcIbXbGUWDHArBKjgPuBOaR/g9STxm4D7hNaLM/zoIroX4RcDP+r576gXtwgu/oe7YtAKvkccA3gIW01plLk38BC4U2y+IozCp5HbAE13HNEq8D3xTaLGm3gLYEUOngPYDr8WaZB4F5Qps32jnYKnkCsBS4MVar4mcFMF9ocyTqgZEFYJWcCDwEvC9qZZ74G3B11DbTKnkm7krj4iSMSoAtuO+5O8pBkdoyq+Qs4Gm6x/kA5wGbrJKXtXqAVfJCYDPd43yAC3Hf88NRDmpZAFbJW3E97VMjGpYFTgfWWiWnj7SjVXIq8AjZa+9b4UzAWCXntnpAS02AVfJG4JcdGJYV+oCPCG02N/rQKnku8Bjw9lStip9juObg4ZF2HFEAVslpuB9lVDy2eWc/IIU222o3Vvo2TwBneLEqfg4Blwht/j7cTsMKwCp5Nm78PS8/SpXngKnVmzBWybfivqfwalX8/BP4kNBmX7MdmvYBKjc2esmf8wHeC/ys5v1S8ud8gAnASqtk07u+DSOAVbIHd51/XXK2ZYLP40YP7/VtSMIsFdp8sdEHzQRwA3B/0lZlgOrASdZGMpPgSqGNrt84RABWyeMBiwsfgfzwV1y/Z5DDG/UBbiI4P49MAYaMDwyKAFbJ0cAOYGx6dgVS5AVgotDmP9UN9RFgIcH5eWY88KXaDQMRwCr5DtzZf3L6dgVS5AAwQWjzOgyOAJ8kOL8IjAGur76pFcA16dsS8MSAr3vK5TJWydOBvfif0hVIh35grNCmrxoBriI4v0iMwk3VH2gCQvgvHtcA9GyfefmJuEmUSc9tD2SLPmBsCbiM4PwicgpwcQk427clAW+ML9Gdc98C8fCuIIBiM66Eez4/UEzGhQhQbEITUHDGlXA3BwLF5G0l4BXfVgS88WoJty5NoJjsKgEv+bYi4I1dIQIUmyCAghOagIKzqwQ8hXs8KlA8NpaENntwq34EisVWoc3O6oyg1V5NCfhgNbw5JSwIoHj0wuAHQ54FPuDTokBqvCi0GQ+DnwsIUaA49Fb/qRXAbz0YEvDDyuo/AwIQ2jwD/MGLOYE0eUpo82T1Tf3Twd9K2ZhA+gzy8SABVNaiH3FtuUDXslFos752Q6MVQkIUyC9DfDtEAEKbTcDaVMwJpMkWoc2a+o3N1gm8M2FjAunz7UYbGwqgknbl54maE0iTDUKb3kYfDLda+ELCreI88G/gc80+bCoAoU0fbiXNQHdzm9DmxWYfDpsvQGizDvh17CYF0uIJ3DrITWklYcSXgT2xmBNIkyPAZ+pXBq1nRAEIbQ4AX4jLqkBqfF1o89xIO7WUMqbSg/xxxyYF0uJR4Iet7BgladQCwLRlTiBNngeuF9oca2XnSGnjrJJjcdm0wqoi2eQwME1os7XVAyKljatk6r4WOBrRsEA6zI/ifGgjB67Q5i8MM7AQ8MZioc3voh7UVhJkoc1yWuxkBFJhPS6jeWQ6yYK9EPh9B8cH4uEZ4IZWO331dJQ+3io5CjeBJOtJpPPKDuBSoc3edgvoSAAAVsmTAQ1c0lFBgajsxjl/ZyeFdCwAGEgnb3CJmgPJsw+4XGjzbKcFddIHGKCSfeJKXEbOQLIcAmbF4XyISQAAQptXgJmEOQRJchT4WLPk1+0QmwAAhDYvANOB7XGWGwDc6t6zhTaPx1lorAIAENq8BFwK/DnusgvMHlyb/3jcBccuAAChzX5cczBkFmogMv8g4vh+FBIRAIDQ5jAuK8WypOooABuB6Z1e6g1HLJeBI2GV/C7w1cQryhdrgU8Ibd5IspLEIkAtQpvbgVsIaxG1ym9wvf1EnQ8pCQBAaPMjXHLK/rTq7FIWA/OENv9No7JUmoBarJIzgVXA6FQrzj5lYIHQ5u40K01dAABWyam4Nu6M1CvPJv3Ap4U2K9Ku2IsAAKyS5+DuY5/jxYDscAiYI7R5xEflqfUB6hHa7MCNGv7Jlw0ZYDcww5fzwaMAYOD+wQzgBz7t8MQG4ILKFDtveGsC6rFKXgv8CjjVty0Jcwz3+P2idmfxxElmBAAD/YKVwAW+bUmIV4G5PkN+PV6bgHoq/YJpwL2+bUmAJ3EhPzPOh4xFgFqskp/CPdna7XmNy8D3gK+lNbgThcwKAMAqORl4EJjo25Y2OYC7vn/ItyHNyFQTUI/QZhvwQSDyAw8ZYDMwNcvOh4xHgFqskjfjLhdH+balBX6CG9bN/H2PrhEAgFXyImA58H7ftjThAHCT0OYB34a0SqabgHoqaxhOAZaQvVvLa4DJ3eR86LIIUItVcgZu4Ojdfi3hIHCr0GaZZzvaoqsiQC2VCZLn4XfMYB0wqVudD10cAWqxSs4GfkF6mdD7cJ28+1KqLzFyIQAAq+QY3DpGcxOuagPw2cr0964nNwKoYpWcA/wUGBtz0YeArwhtcrWEbtf2AZohtFkFTAbuj7HYNcC5eXM+5DAC1GKVvAI3KNNuNrTncT383KbSyV0EqEVo8xhwPu6ZhChTrI/ikitMyrPzIecRoBar5FnA3cCcEXZdA9xSuTWdewojgCpWyVnAPQydjJr7cN+IwgkAwCp5Aq5ZqD6uthi4S2hzxJ9VfiikAKpYJScAPUUJ940otAACOb8KCIxMEEDBCQIoOEEABScIoOAEARScIICCEwRQcIIACk4QQMH5P04z22wAMPbbAAAAAElFTkSuQmCC"},197:function(e,t){e.exports="data:image/png;base64,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"},198:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADsQAAA7EB9YPtSQAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJCSURBVHic7d0/ix1VGMfx7+5qI6TRyi6vI5BXICG1hdgrSQo10VSJJlrYaCmoRYT4t5CApaSUoG9AiG9BCDHYKGtxEWRdye54757cmc8Hnv6B3zPMDDPnnAIAAAAAAAAAAAAAAAAAAACAA85W31UPqt+re9XL1c7IpjgZl6o/q/1D6rMMway91uHB/7NeHdYdG/V6jw9/v/plVINszhsdLfy/69kxbbIJVzpe+PvVc0M6Ze3e7PjhuwXMxFsdP3wPgTNxtWnhf5nXwK13uWnhf1M9PaBf1mjKA99+9XXC33rCX7Cp4X9VPTWgX9boWsJfrGtNf9oX/pa7nvAX6+2mhf9Fwt96wl+wd5oW/ucJf+vdSPiLNTX829XegH5Zo5tNC//TandAv6yR8Bfs3aaF/0nC33rvJfzFmhr+xwl/q+1UHzQtfLU99Vt1tzrXAe8/Ac2pk62btbryz1ffxhKd26s+qk4PboQxnt+pHlXPjO6EIR7utrofsFC71U+jm2CYH/eqX6sXR3fCEBf2qp+rU9WZwc1wsm60egGoVq+DHzb+3VRtth5W31cv9B98B8AQMP1zsH8BZsQPIUweAv8Dzog/grEmgOlDYFXQjFgahpXBGAKyOwgZArJDGBkCsksoGQL6f5tF+4o4E1O3i78wolk2w4ERHOmksIPlzKCZOe6DoQGYoaMeG3d/VINs3lFuB68M644TcbH6o8PDv5UzgxbhTHWn1ZrER9UP1UsJHwAAAAAAAAAAAAAAAAAAAAD+7S+MtBomHQBr8QAAAABJRU5ErkJggg=="},203:function(e,t,a){e.exports=a(489)},207:function(e,t,a){},489:function(e,t,a){"use strict";a.r(t);var n=a(140),r=a(0),l=a.n(r),c=a(43),i=a.n(c),o=a(71),u=a(97),m=a(98),s=a(189),A=a(5),d=a(15),g=a(16),E=a(17),v=(a(207),function(){var e=Object(r.useState)(""),t=Object(A.a)(e,2),a=t[0],n=t[1],c=Object(g.g)();return l.a.createElement("div",null,a,l.a.createElement("input",{type:"text",placeholder:"Search movie with title",className:"keyword-input",onKeyDown:function(e){"Enter"===e.key&&(""===e.target.value?n("Please type keyword"):c.push("/search/k=".concat(e.target.value,"&page=1")))}}))}),b=a(13),f=a(144),p=function(e){var t=e.movie,a=Object(g.g)();return l.a.createElement("div",{className:"movie",onClick:function(){return e=t.tmdbID,void a.push("/movie/".concat(e));var e}},l.a.createElement("img",{src:t.imageUrl,alt:"thumbnail-".concat(t.title)}),l.a.createElement("h3",null,t.title)," ",t.releaseDate)},w=a(64),h=function(e){var t=e.currentPage,a=e.totalPage,n=e.setCurrentPage,c=e.keyword,i=Object(g.h)(),o=Object(r.useState)(a<10?Object(w.a)(Array(a).keys()).map((function(e){return e+1})):t<10?Object(w.a)(Array(10).keys()).map((function(e){return e+1})):[].concat(Object(w.a)(Object(w.a)(Array(t).keys()).slice(t-5)),Object(w.a)(Object(w.a)(Array(t+5).keys()).slice(t)))),u=Object(A.a)(o,1)[0],m=function(e){return"".concat(i.pathname.slice(0,i.pathname.lastIndexOf("=")+1)).concat(e)};return l.a.createElement("div",{className:"pagination"},l.a.createElement(E.b,{className:"link",to:m(t-1),onClick:function(){return n(t-1)}},"<"),u&&u.map((function(e){return l.a.createElement(E.b,{key:"".concat(c,"-").concat(e),className:t===e?"current-page":"link",to:m(e),onClick:function(){return n(e)}},e)})),l.a.createElement(E.b,{className:"link",to:m(t+1),onClick:function(){return n(t+1)}},">"))};function O(){var e=Object(d.a)(["\nquery getPopularMovies($pageNumber:Int!){\n    getPopularMovies(pageNumber:$pageNumber){\n        totalPage\n        movies{\n         tmdbID\n        title\n        releaseDate\n        imageUrl\n    }\n    }\n}"]);return O=function(){return e},e}function j(){var e=Object(d.a)(["\nquery getTrendingMovies($pageNumber:Int!){\n    getTrendingMovies(pageNumber:$pageNumber){\n        totalPage\n        movies{\n         tmdbID\n        title\n        releaseDate\n        imageUrl\n    }\n    }\n}"]);return j=function(){return e},e}var C=Object(b.a)(j()),y=Object(b.a)(O()),B=function(e){var t=Number(Object(g.i)().pageNumber),a=Object(r.useState)(t),n=Object(A.a)(a,2),c=n[0],i=n[1],o=Object(f.a)("popular"===e.mode?y:C,{variables:{pageNumber:t},fetchPolicy:"network-only"}),u=null;return o.loading?l.a.createElement("div",null,"Loading..."):o.error?l.a.createElement("div",null,"Can't retrieve data, please check your internet connection"):(o.data&&(u="popular"===e.mode?o.data.getPopularMovies:o.data.getTrendingMovies),l.a.createElement("div",null,l.a.createElement("h2",{className:"title-banner"},"popular"===e.mode?"Popular Movies":"Trending Movies"),l.a.createElement("div",{className:"movie-container"},u.movies.map((function(e){return l.a.createElement(p,{key:e.tmdbID,movie:e})}))),l.a.createElement(h,{currentPage:c,totalPage:u.totalPage,setCurrentPage:i})))},I=a(190),k=(a(214),a(197)),N=a.n(k),D=a(135),S=a.n(D);function M(){var e=Object(d.a)(["\nquery getRecommendedMovies($id:Int!){\n    getRecommendedMovies(id:$id){\n        tmdbID\n        title\n        releaseDate\n        imageUrl\n    }\n}\n"]);return M=function(){return e},e}var P=Object(b.a)(M()),V=function(e){var t=Object(f.a)(P,{variables:{id:e.id}}),a=function(e){return window.innerWidth<=660?1:window.innerWidth<930?2:window.innerWidth<1200?3:4},n=Object(r.useState)(a(window.innerWidth)),c=Object(A.a)(n,2),i=c[0],o=c[1],u=Object(r.useState)(0),m=Object(A.a)(u,2),s=m[0],d=m[1];window.addEventListener("resize",(function(){o(a(window.innerWidth))}));var g=function(e){d("next"===e?s+i:s-i<0?0:s-i)};return t.error?l.a.createElement("div",null,"Error: ".concat(t.error)):t.data&&t.data.getRecommendedMovies.length>0?l.a.createElement("div",null,l.a.createElement("h3",null,"Movie we think you will like"),l.a.createElement("div",{className:"flex-container-button"},0!==s&&l.a.createElement("button",{className:"next-prev-button",onClick:function(){return g("prev")}},"<"),l.a.createElement("div",{className:"movie-container"},t.data.getRecommendedMovies.slice(s,s+i).map((function(e){return l.a.createElement(p,{key:e.imageUrl,movie:e})}))),s+i<=t.data.getRecommendedMovies.length-1&&l.a.createElement("button",{className:"next-prev-button",onClick:function(){return g("next")}},">"))):l.a.createElement("div",null)},Q=function(e){var t=e.cast;return l.a.createElement("div",{className:"cast"},l.a.createElement("div",{class:"cast-image"},l.a.createElement("img",{src:t.imageUrl,alt:"".concat(t.name,".png")})),l.a.createElement("p",{style:{fontWeight:"bold"}},t.name),l.a.createElement("p",{style:{color:"grey",textAlign:"left",lineHeight:"1",margin:"0"}},t.character))};function G(){var e=Object(d.a)(["\nquery getCasts($id:Int!){\n    getCasts(id:$id){\n        name\n        character\n        imageUrl\n    }\n}\n"]);return G=function(){return e},e}var H=Object(b.a)(G()),U=function(e){var t=Object(f.a)(H,{variables:{id:e.id}}),a=function(e){return window.innerWidth<=600?1:window.innerWidth<800?2:window.innerWidth<1070?3:window.innerWidth<1300?4:window.innerWidth<1450?5:6},n=function(e){g("next"===e?d+o:d-o<0?0:d-o)},c=Object(r.useState)(a(window.innerWidth)),i=Object(A.a)(c,2),o=i[0],u=i[1],m=Object(r.useState)(0),s=Object(A.a)(m,2),d=s[0],g=s[1];return window.addEventListener("resize",(function(){u(a(window.innerWidth))})),t.error?l.a.createElement("div",null,"Error: ".concat(t.error)):t.data&&t.data.getCasts.length>0?l.a.createElement("div",null,l.a.createElement("h2",null,"Top Casts"),l.a.createElement("div",{className:"flex-container-button"},0!==d&&l.a.createElement("button",{className:"next-prev-button",onClick:function(){return n("prev")}},"<"),l.a.createElement("div",{className:"cast-container"},t.data.getCasts.slice(d,d+o).map((function(e){return l.a.createElement(Q,{cast:e})}))),d+o<=t.data.getCasts.length-1&&l.a.createElement("button",{className:"next-prev-button",onClick:function(){return n("next")}},">"))):l.a.createElement("div",null)},F=a(198),R=a.n(F);function J(){var e=Object(d.a)(["\nquery{\n  me{\n    username\n    id\n    favouriteMovies\n  }\n}\n"]);return J=function(){return e},e}function K(){var e=Object(d.a)(["\nmutation updateFavouriteMovies($tmdbId:Int!){\n    updateFavouriteMovies(tmdbId:$tmdbId){\n        favouriteMovies\n        isAppend\n    }\n}\n"]);return K=function(){return e},e}function q(){var e=Object(d.a)(["\nquery getMovie($id:Int!){\n  getMovie(id:$id){\n    tmdbID\n    title\n    releaseDate\n    hdImageUrl\n    genres\n    description\n    original_language\n    runtime\n  }\n}\n"]);return q=function(){return e},e}var x=Object(b.a)(q()),z=Object(b.a)(K()),Y=(Object(b.a)(J()),function(e){var t=Number(Object(g.i)().id),a=Object(g.g)(),n=Object(f.a)(x,{variables:{id:t}}),r=Object(I.a)(z,{onError:function(e){console.log(e)}}),c=Object(A.a)(r,2),i=c[0];c[1];if(n.loading)return l.a.createElement("div",null,"Loading...");if(n.data){var o=n.data.getMovie;return l.a.createElement("div",null,l.a.createElement("div",{className:"icon-inline-container",onClick:function(){return a.goBack()}},l.a.createElement("img",{src:R.a,alt:"back-icon.png"})),l.a.createElement("div",{className:"flex-container-movie-detail"},l.a.createElement("div",{className:"img-movie-detail"},l.a.createElement("img",{src:o.hdImageUrl,alt:"pic"})),l.a.createElement("div",{className:"info-container-movie-detail"},l.a.createElement("div",{className:"title-movie-detail"},l.a.createElement("h1",null,o.title),l.a.createElement("h5",null,o.genres.filter((function(e){return null!==e})).join(", ")),l.a.createElement("h5",null,"Playing Time: ",function(e){var t=e%60,a=(e-t)/60;return 0===a?"".concat(t,"m"):(t<10&&(t="0"+t),"".concat(a,"h:").concat(t,"m"))}(o.runtime)," ")),l.a.createElement("div",{className:"overview-movie-detail"},l.a.createElement("h2",null,"Overview"),l.a.createElement("p",null,o.description),e.user?l.a.createElement("div",{className:"icon-inline-container",onClick:function(){i({variables:{tmdbId:t}}),a.go(0)}},e.user.favouriteMovies.includes(t)?l.a.createElement("img",{src:S.a}):l.a.createElement("img",{src:N.a})):l.a.createElement("p",{style:{color:"red"}},"Login to favourite this movie!")))),l.a.createElement(U,{id:t}),l.a.createElement(V,{id:t}))}return l.a.createElement("div",null)}),X=a(187);function W(){var e=Object(d.a)(["\nquery findMovieByKeyword($keyword:String!,$pageNumber:Int!){\n  searchMovies(keyword:$keyword,pageNumber:$pageNumber){\n    totalPage\n    movies{\n      tmdbID\n      title\n      releaseDate\n      imageUrl\n    }\n  }\n}\n"]);return W=function(){return e},e}var T=Object(b.a)(W()),L=function(){var e=Object(g.i)().keyword,t=Object(g.i)().pageNumber,a=Object(r.useState)(Number(t)),n=Object(A.a)(a,2),c=n[0],i=n[1],o=Object(X.a)(T,{fetchPolicy:"network-only"}),u=Object(A.a)(o,2),m=u[0],s=u[1];return Object(r.useEffect)((function(){m({variables:{keyword:e,pageNumber:c}})}),[e,c]),s.loading?l.a.createElement("div",null,"Loading..."):s.error?l.a.createElement("div",null,"Can't retrieve data, please check your internet connection"):s.data?l.a.createElement("div",null,l.a.createElement(v,null),0!==s.data.searchMovies.movies.length&&l.a.createElement("h3",null,'Search result for "'.concat(e,'"')),l.a.createElement("div",{className:"movie-container"},0===s.data.searchMovies.movies.length?l.a.createElement("p",null,"No movie found, please try with another keyword"):s.data.searchMovies.movies.map((function(e){return l.a.createElement(p,{key:e.imageUrl,movie:e})}))),0!==s.data.searchMovies.movies.length&&l.a.createElement(h,{currentPage:c,totalPage:s.data.searchMovies.totalPage,setCurrentPage:i,keyword:e})):l.a.createElement("div",null)};function Z(){var e=Object(d.a)(["\nmutation login($username:String!,$password:String!){\n    login(username:$username,password:$password){\n        value\n    }\n}\n"]);return Z=function(){return e},e}var $=Object(b.a)(Z()),_=function(e){var t=e.setToken,a=(e.setUser,Object(g.g)()),n=Object(r.useState)(""),c=Object(A.a)(n,2),i=c[0],o=c[1],u=Object(r.useState)(""),m=Object(A.a)(u,2),s=m[0],d=m[1],v=Object(r.useState)(""),b=Object(A.a)(v,2),f=b[0],p=b[1],w=Object(I.a)($,{onError:function(e){p("Error: ".concat(e.message)),setTimeout((function(){p(null)}),5e3)}}),h=Object(A.a)(w,2),O=h[0],j=h[1];Object(r.useEffect)((function(){if(j.data){var e=j.data.login.value;t(e),localStorage.setItem("user-token",e),a.push("/"),a.go(0)}}),[j.data]);return l.a.createElement("div",null,l.a.createElement("h1",null,"Login"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O({variables:{username:i,password:s}})}},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h3",null,"Username"),l.a.createElement("input",{value:i,onChange:function(e){var t=e.target;return o(t.value)}})),l.a.createElement("div",null,l.a.createElement("h3",null,"Password"),l.a.createElement("input",{value:s,type:"password",onChange:function(e){var t=e.target;return d(t.value)}})),l.a.createElement("p",null,"Need an account? Click ",l.a.createElement(E.b,{to:"/register"},"Here")),l.a.createElement("button",{type:"submit"},"login"))),f&&l.a.createElement("div",{className:"error-message"},f))},ee=a(188);function te(){var e=Object(d.a)(["\nmutation createUser($username:String!,$password:String!){\n    createUser(username:$username,password:$password){\n        username\n    }\n}\n"]);return te=function(){return e},e}function ae(){var e=Object(d.a)(["\nquery getUser($username:String!){\n    getUser(username:$username){\n        username\n    }\n}\n"]);return ae=function(){return e},e}var ne=Object(b.a)(ae()),re=Object(b.a)(te()),le=function(){var e=Object(g.g)(),t=Object(r.useState)(null),a=Object(A.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(null),o=Object(A.a)(i,2),u=o[0],m=o[1],s=Object(r.useState)(null),d=Object(A.a)(s,2),E=d[0],v=d[1],b=Object(r.useState)(null),f=Object(A.a)(b,2),p=f[0],w=f[1],h=Object(r.useState)(null),O=Object(A.a)(h,2),j=O[0],C=O[1],y=Object(r.useState)(null),B=Object(A.a)(y,2),k=B[0],N=B[1],D=Object(r.useState)(null),S=Object(A.a)(D,2),M=S[0],P=S[1],V=Object(r.useState)(null),Q=Object(A.a)(V,2),G=Q[0],H=Q[1],U=Object(r.useState)(!1),F=Object(A.a)(U,2),R=F[0],J=F[1],K=Object(r.useState)(null),q=Object(A.a)(K,2),x=q[0],z=q[1],Y=Object(X.a)(ne,{onError:function(){console.log("error occured")},onCompleted:function(){null===L.data.getUser?(w("\u2705"),H(!0)):(w("username already exist"),H(!1))}}),W=Object(A.a)(Y,2),T=W[0],L=W[1],Z=Object(I.a)(re,{onError:function(e){console.log("error occured: ".concat(e))},onCompleted:function(){z(!0),setTimeout((function(){e.push("/login")}),3e3)}}),$=Object(A.a)(Z,2),_=$[0];$[1];Object(r.useEffect)((function(){M?N("\u2705"):E&&N("Not matched"),J(!!(G&&u&&M))}),[M,G,u]);return x?l.a.createElement("div",null,"Sucess Registration Redirecting to login page"):l.a.createElement("div",null,l.a.createElement("h1",null,"Create account"),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),_({variables:{username:n,password:u}})}},l.a.createElement("div",null,l.a.createElement("h3",null,"Username"),l.a.createElement("input",{onChange:function(e){var t=e.target;""===t.value?(w("Username can't be empty"),c(null)):t.value.length<6?(w("minimum 6 character"),c(null)):(T({variables:{username:t.value}}),c(t.value))}}),p&&l.a.createElement("div",null,p)),l.a.createElement("div",null,l.a.createElement("h3",null,"Password"),l.a.createElement("input",{type:"password",onChange:function(e){var t=e.target;t.value.length<8?(C("minimum password length :8 "),m(null)):(C("\u2705"),m(t.value),t.value!==E?P(!1):P(!0))}}),j&&l.a.createElement("div",null,j)),l.a.createElement("div",null,l.a.createElement("h3",null,"Confirm Password"),l.a.createElement("input",{type:"password",onChange:function(e){var t=e.target;v(t.value),t.value!==u?P(!1):P(!0)}}),k&&l.a.createElement("div",null,k)),R?l.a.createElement("button",{type:"submit"},"Register"):l.a.createElement("p",null,"register button will appear when all requirements are fulfilled")))};function ce(){var e=Object(d.a)(["\nquery getAllFavouriteMovies($movieIds:[Int]!){\n    getAllFavouriteMovies(movieIds:$movieIds){\n        tmdbID\n        title\n        description\n        imageUrl\n    }\n  }\n"]);return ce=function(){return e},e}var ie=Object(b.a)(ce()),oe=function(e){var t=Object(X.a)(ie),a=Object(A.a)(t,2),n=a[0],c=a[1];return Object(r.useEffect)((function(){e.user&&n({variables:{movieIds:e.user.favouriteMovies}})}),[e.user]),c.loading?l.a.createElement("div",null,"Loading..."):c.error?l.a.createElement("div",null,"Error occured!"):c.data&&e.user?l.a.createElement("div",null,l.a.createElement("h2",{className:"title-banner"},"Favourite"),l.a.createElement("div",{className:"movie-container"},c.data.getAllFavouriteMovies.map((function(e){return l.a.createElement(p,{key:e.tmdbID,movie:e})})))):l.a.createElement("div",null,"Please log in to see your favourite!")},ue=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"AMDB"),l.a.createElement("p",null,"AMDB is a full-stack react web app that allows visitor to search/check out popular/trending movies and logged in users to add movies into their favourite list. It also recommends similar movies to users based on selected movie."),l.a.createElement("h3",null," Tech Stack"),l.a.createElement("ul",null,l.a.createElement("li",null,"react (hooks)"),l.a.createElement("li",null,"graphql"),l.a.createElement("li",null,"apollo server & client"),l.a.createElement("li",null,"postgres client pg")),l.a.createElement("h3",null,"Helpful libs"),l.a.createElement("ul",null,l.a.createElement("li",null,"axios"),l.a.createElement("li",null,"bcrypt"),l.a.createElement("li",null,"jsonwebtoken"),l.a.createElement("li",null,"react-router-dom")),l.a.createElement("h3",null,"Concept applied"),l.a.createElement("ul",null,l.a.createElement("li",null,"Database administration"),l.a.createElement("li",null,"User administration"),l.a.createElement("li",null,"render movie cast & recommended movies dynamically"),l.a.createElement("li",null,"Asynchronous ops with both async & await and promise & reject"),l.a.createElement("li",null,"render different components conditionally"),l.a.createElement("li",null,"pagination (inspired by google search)"),l.a.createElement("li",null,"Error-handling")),l.a.createElement("h3",null,"Styling"),l.a.createElement("ul",null,l.a.createElement("li",null,"mobile-optimised"),l.a.createElement("li",null,"flexbox"),l.a.createElement("li",null,"sticky-positioned nav bar"),l.a.createElement("li",null,"weird colour scheme")),l.a.createElement("h3",null,"Data source & credits"),l.a.createElement("ul",null,l.a.createElement("li",null,"movies and casts data from TMDB api"),l.a.createElement("li",null,"heart and back icons from flaticon.com")),l.a.createElement("a",{href:"https://github.com/black-ros3/movie_site"},"github"))};function me(){var e=Object(d.a)(["\nquery{\n  me{\n    username\n    id\n    favouriteMovies\n  }\n}\n"]);return me=function(){return e},e}var se=Object(b.a)(me()),Ae=function(e){Object(g.g)();var t=Object(r.useState)(null),a=Object(A.a)(t,2)[1],n=Object(r.useState)(null),c=Object(A.a)(n,2),i=c[0],o=c[1],u=Object(f.a)(se,{onCompleted:function(){o(u.data.me)}}),m=Object(ee.a)();return l.a.createElement(E.a,null,l.a.createElement("div",{className:"top-nav-bar"},l.a.createElement(E.b,{className:"top-nav-button",style:{color:"darkblue",fontWeight:"bold"},to:"/"},"Another Movie Database (AMDB)"),l.a.createElement("div",{className:"flex-container"},null===i?l.a.createElement(E.b,{className:"top-nav-button",to:"/login"},"Login"):l.a.createElement("p",{style:{color:"black"}},i.username),i&&l.a.createElement("button",{className:"top-nav-button",onClick:function(){a(null),o(null),localStorage.clear(),m.resetStore()}},"logout"))),l.a.createElement("div",{className:"sidebar-displaycomponent-container"},l.a.createElement("div",null,l.a.createElement("div",{className:"side-nav-menu"},l.a.createElement(E.b,{className:"nav-menu-item-circle",to:"/search"},"Search"),l.a.createElement(E.b,{className:"nav-menu-item-circle",to:"/popular/page=1"},"Popular"),l.a.createElement(E.b,{className:"nav-menu-item-circle",to:"/trending/page=1"},"Trending"),l.a.createElement(E.b,{className:"nav-menu-item-circle",to:"/favourite"},"Favourite"))),l.a.createElement(g.d,null,l.a.createElement("div",{className:"displayComponent"},l.a.createElement(g.b,{exact:!0,path:"/"},l.a.createElement(ue,null)),l.a.createElement(g.b,{exact:!0,path:"/search"},l.a.createElement(v,null)),l.a.createElement(g.b,{exact:!0,path:"/popular/page=:pageNumber"},l.a.createElement(B,{mode:"popular"})),l.a.createElement(g.b,{exact:!0,path:"/trending/page=:pageNumber"},l.a.createElement(B,{mode:"trending"})),l.a.createElement(g.b,{exact:!0,path:"/movie/:id"},l.a.createElement(Y,{user:i})),l.a.createElement(g.b,{exact:!0,path:"/search/k=:keyword&page=:pageNumber"},l.a.createElement(L,null)),l.a.createElement(g.b,{exact:!0,path:"/login",render:function(){return i?l.a.createElement(g.a,{to:"/"}):l.a.createElement(_,{setToken:a,setUser:o})}}),l.a.createElement(g.b,{exact:!0,path:"/register"},l.a.createElement(le,null)),l.a.createElement(g.b,{exact:!0,path:"/favourite"},l.a.createElement(oe,{user:i}))))))},de=a(199),ge=Object(de.a)((function(e,t){var a=t.headers,r=localStorage.getItem("user-token");return{headers:Object(n.a)(Object(n.a)({},a),{},{authorization:r?"bearer ".concat(r):null})}})),Ee=new o.a({uri:"/graphql"}),ve=new u.a({cache:new m.a,link:ge.concat(Ee)});i.a.render(l.a.createElement(s.a,{client:ve},l.a.createElement(Ae,null)),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.a9a49e0a.chunk.js.map